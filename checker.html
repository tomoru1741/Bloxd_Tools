<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloxd 翻訳チェッカー</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/checker.css">
</head>

<body>
    <div class="app-container">
        <header class="header">
            <h1>🔍 Bloxd 翻訳チェッカー</h1>
            <p>ゲーム内アイテムとWiki翻訳の比較ツール</p>
            <p class="subtitle">for <a href="https://bloxdjapan.miraheze.org/">Bloxd Japan Wiki</a></p>
            <div class="nav-links">
                <a href="index.html" class="nav-link">← ホーム</a>
                <a href="converter.html" class="nav-link">Model Converter</a>
                <a href="viewer.html" class="nav-link">Texture Viewer</a>
                <button id="theme-toggle" class="theme-toggle" title="テーマ切り替え">🌙</button>
            </div>
        </header>

        <main class="main-content">
            <!-- Stats Cards -->
            <section class="stats-grid">
                <div class="stat-card game-items">
                    <div class="stat-icon">🎮</div>
                    <div class="stat-info">
                        <span class="stat-value" id="gameItemCount">-</span>
                        <span class="stat-label">ゲーム内アイテム</span>
                    </div>
                </div>
                <div class="stat-card wiki-items">
                    <div class="stat-icon">📚</div>
                    <div class="stat-info">
                        <span class="stat-value" id="wikiItemCount">-</span>
                        <span class="stat-label">Wiki翻訳済み</span>
                    </div>
                </div>
                <div class="stat-card missing-items">
                    <div class="stat-icon">⚠️</div>
                    <div class="stat-info">
                        <span class="stat-value" id="missingCount">-</span>
                        <span class="stat-label">未翻訳</span>
                    </div>
                </div>
                <div class="stat-card coverage">
                    <div class="stat-icon">📊</div>
                    <div class="stat-info">
                        <span class="stat-value" id="coveragePercent">-</span>
                        <span class="stat-label">カバー率</span>
                    </div>
                </div>
            </section>

            <!-- Control Panel -->
            <section class="control-panel">
                <div class="data-sources">
                    <div class="source-card">
                        <h3>📦 ゲームデータ</h3>
                        <p id="gameDataStatus" class="status success">埋め込みデータを使用</p>
                    </div>
                    <div class="source-card">
                        <h3>🌐 Wiki データ</h3>
                        <p id="wikiDataStatus" class="status loading">読み込み中...</p>
                        <button id="refreshWikiData" class="btn secondary">🔄 更新</button>
                    </div>
                </div>

                <div class="filter-controls">
                    <div class="search-container">
                        <div class="custom-select-wrapper">
                            <input type="text" id="searchInput" placeholder="アイテム名で検索..." />
                            <span class="dropdown-arrow">🔍</span>
                        </div>
                    </div>
                    <div class="filter-buttons">
                        <button class="btn filter-btn active" data-filter="all">すべて</button>
                        <button class="btn filter-btn" data-filter="missing">未翻訳</button>
                        <button class="btn filter-btn" data-filter="translated">翻訳済み</button>
                    </div>
                </div>
            </section>

            <!-- Item List -->
            <section class="item-list-section">
                <div class="list-header">
                    <h2>アイテム一覧</h2>
                    <div class="sort-controls">
                        <label>並び替え:</label>
                        <select id="sortSelect">
                            <option value="original">ゲーム内順</option>
                            <option value="name-asc">名前 (A→Z)</option>
                            <option value="name-desc">名前 (Z→A)</option>
                            <option value="status">ステータス</option>
                        </select>
                    </div>
                </div>

                <div class="item-list" id="itemList">
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                        <p>データを読み込んでいます...</p>
                    </div>
                </div>
            </section>

            <!-- Export Section -->
            <section class="export-section">
                <h2>📤 Wiki用テンプレート生成</h2>

                <div class="paste-info">
                    <strong>📍 貼り付け位置:</strong><br>
                    <a href="https://bloxdjapan.miraheze.org/wiki/MediaWiki:ItemName.json?action=edit"
                        target="_blank">MediaWiki:ItemName.json</a> を編集し、
                    最後の <code>}</code> の直前に追加してください。<br>
                    既存の最後のエントリに <code>,</code> を追加してから貼り付けてください。
                </div>

                <div class="template-section">
                    <h3>未翻訳アイテムテンプレート</h3>
                    <div class="template-preview" id="templatePreview">
                        // データを読み込み中...
                    </div>
                    <div class="template-actions">
                        <button id="copyTemplate" class="btn primary">📋 テンプレートをコピー</button>
                        <button id="exportTemplate" class="btn secondary">💾 JSONファイルとして保存</button>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>Bloxd Japan Wiki 翻訳支援ツール | 最終更新: <span id="lastUpdate">-</span></p>
        </footer>
    </div>

    <script src="js/checker.js"></script>
</body>

</html>